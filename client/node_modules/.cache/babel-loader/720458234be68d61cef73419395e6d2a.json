{"ast":null,"code":"var _jsxFileName = \"/home/sergi/Desktop/medeth/client/src/pages/doctor/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Divider, FormControl, Modal, TextField, Typography, Backdrop, CircularProgress } from '@mui/material';\nimport React, { useCallback } from 'react';\nimport { useState } from 'react';\nimport CustomButton from '../../components/CustomButton';\nimport SearchRoundedIcon from '@mui/icons-material/SearchRounded';\nimport useEth from '../../contexts/EthContext/useEth';\nimport PersonAddAlt1RoundedIcon from '@mui/icons-material/PersonAddAlt1Rounded';\nimport useAlert from '../../contexts/AlertContext/useAlert';\nimport AddRecordModal from './AddRecordModal';\nimport CloudUploadRoundedIcon from '@mui/icons-material/CloudUploadRounded';\nimport ipfs from '../../ipfs';\nimport Record from '../../components/Record';\nimport Card from '../../components/Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Doctor = () => {\n  _s();\n\n  const {\n    state: {\n      contract,\n      accounts,\n      role,\n      loading\n    }\n  } = useEth();\n  const {\n    setAlert\n  } = useAlert();\n  const [patientExist, setPatientExist] = useState(false);\n  const [searchPatientAddress, setSearchPatientAddress] = useState('');\n  const [addPatientAddress, setAddPatientAddress] = useState('');\n  const [records, setRecords] = useState([]);\n  const [addRecord, setAddRecord] = useState(false);\n  const [image, setImage] = useState('Your image');\n  const [name, setName] = useState('Your name');\n  const [job, setJob] = useState('Job title');\n  const [about, setAbout] = useState(\"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\");\n\n  const searchPatient = async () => {\n    try {\n      if (!/^(0x)?[0-9a-f]{40}$/i.test(searchPatientAddress)) {\n        setAlert('Please enter a valid wallet address', 'error');\n        return;\n      }\n\n      const patientExists = await contract.methods.getPatientExists(searchPatientAddress).call({\n        from: accounts[0]\n      });\n\n      if (patientExists) {\n        const records = await contract.methods.getRecords(searchPatientAddress).call({\n          from: accounts[0]\n        });\n        console.log('records :>> ', records);\n        setRecords(records);\n        setPatientExist(true);\n      } else {\n        setAlert('Patient does not exist or address does not match', 'error');\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const registerPatient = async () => {\n    try {\n      await contract.methods.addPatient(addPatientAddress).send({\n        from: accounts[0]\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const addRecordCallback = useCallback(async (buffer, fileName, patientAddress) => {\n    if (!patientAddress) {\n      setAlert('Please search for a patient first', 'error');\n      return;\n    }\n\n    try {\n      const res = await ipfs.add(buffer);\n      const ipfsHash = res[0].hash;\n\n      if (ipfsHash) {\n        await contract.methods.addRecord(ipfsHash, fileName, patientAddress).send({\n          from: accounts[0]\n        });\n        setAlert('New record uploaded', 'success');\n        setAddRecord(false); // refresh records\n\n        const records = await contract.methods.getRecords(patientAddress).call({\n          from: accounts[0]\n        });\n        setRecords(records);\n      }\n    } catch (err) {\n      setAlert('Record upload failed', 'error');\n      console.error(err);\n    }\n  }, [addPatientAddress, accounts, contract]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Backdrop, {\n      sx: {\n        color: '#fff',\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      open: loading,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      width: \"100vw\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        width: \"60%\",\n        my: 5,\n        children: !accounts ? /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Open your MetaMask wallet to get connected, then refresh this page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [role === 'unknown' && /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              children: \"You're not registered, please go to home page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), role === 'patient' && /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              children: \"Only doctor can access this page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this), role === 'doctor' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Modal, {\n              open: addRecord,\n              onClose: () => setAddRecord(false),\n              children: /*#__PURE__*/_jsxDEV(AddRecordModal, {\n                handleClose: () => setAddRecord(false),\n                handleUpload: addRecordCallback,\n                patientAddress: searchPatientAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: \"Patient Records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              my: 1,\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  placeholder: \"Search patient by wallet address\",\n                  value: searchPatientAddress,\n                  onChange: e => setSearchPatientAddress(e.target.value),\n                  InputProps: {\n                    style: {\n                      fontSize: '15px'\n                    }\n                  },\n                  InputLabelProps: {\n                    style: {\n                      fontSize: '15px'\n                    }\n                  },\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mx: 2,\n                children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                  text: 'Search',\n                  handleClick: () => searchPatient(),\n                  children: /*#__PURE__*/_jsxDEV(SearchRoundedIcon, {\n                    style: {\n                      color: 'white'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n                text: 'New Record',\n                handleClick: () => setAddRecord(true),\n                disabled: !patientExist,\n                children: /*#__PURE__*/_jsxDEV(CloudUploadRoundedIcon, {\n                  style: {\n                    color: 'white'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this), patientExist && records.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              my: 5,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: \"No records found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 21\n            }, this), patientExist && records.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"column\",\n              mt: 3,\n              mb: -2,\n              children: records.map((record, index) => /*#__PURE__*/_jsxDEV(Box, {\n                mb: 2,\n                children: /*#__PURE__*/_jsxDEV(Record, {\n                  record: record\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mt: 6,\n              mb: 4,\n              children: /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: \"Register Patient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              my: 1,\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  placeholder: \" patient by wallet address\",\n                  value: addPatientAddress,\n                  onChange: e => setAddPatientAddress(e.target.value),\n                  InputProps: {\n                    style: {\n                      fontSize: '15px'\n                    }\n                  },\n                  InputLabelProps: {\n                    style: {\n                      fontSize: '15px'\n                    }\n                  },\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mx: 2,\n                children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                  text: 'Register',\n                  handleClick: () => registerPatient(),\n                  children: /*#__PURE__*/_jsxDEV(PersonAddAlt1RoundedIcon, {\n                    style: {\n                      color: 'white'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              image: 'https://www.eleconomista.com.mx/__export/1650910628068/sites/eleconomista/img/2022/04/25/donald_trump_foto_reuters.png_423682103.png',\n              name: 'Donald Trump',\n              job: 'President',\n              about: about\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(Doctor, \"QmMQEhXSO5TRasfXasTcjBS873s=\", false, function () {\n  return [useEth, useAlert];\n});\n\n_c = Doctor;\nexport default Doctor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Doctor\");","map":{"version":3,"names":["Box","Divider","FormControl","Modal","TextField","Typography","Backdrop","CircularProgress","React","useCallback","useState","CustomButton","SearchRoundedIcon","useEth","PersonAddAlt1RoundedIcon","useAlert","AddRecordModal","CloudUploadRoundedIcon","ipfs","Record","Card","Doctor","state","contract","accounts","role","loading","setAlert","patientExist","setPatientExist","searchPatientAddress","setSearchPatientAddress","addPatientAddress","setAddPatientAddress","records","setRecords","addRecord","setAddRecord","image","setImage","name","setName","job","setJob","about","setAbout","searchPatient","test","patientExists","methods","getPatientExists","call","from","getRecords","console","log","err","error","registerPatient","addPatient","send","addRecordCallback","buffer","fileName","patientAddress","res","add","ipfsHash","hash","color","zIndex","theme","drawer","e","target","value","style","fontSize","length","map","record","index"],"sources":["/home/sergi/Desktop/medeth/client/src/pages/doctor/index.jsx"],"sourcesContent":["import { Box, Divider, FormControl, Modal, TextField, Typography, Backdrop, CircularProgress } from '@mui/material'\nimport React, { useCallback } from 'react'\nimport { useState } from 'react'\nimport CustomButton from '../../components/CustomButton'\nimport SearchRoundedIcon from '@mui/icons-material/SearchRounded'\nimport useEth from '../../contexts/EthContext/useEth'\nimport PersonAddAlt1RoundedIcon from '@mui/icons-material/PersonAddAlt1Rounded'\nimport useAlert from '../../contexts/AlertContext/useAlert'\nimport AddRecordModal from './AddRecordModal'\nimport CloudUploadRoundedIcon from '@mui/icons-material/CloudUploadRounded'\nimport ipfs from '../../ipfs'\nimport Record from '../../components/Record'\nimport Card from '../../components/Card'\n\nconst Doctor = () => {\n  const {\n    state: { contract, accounts, role, loading },\n  } = useEth()\n  const { setAlert } = useAlert()\n\n  const [patientExist, setPatientExist] = useState(false)\n  const [searchPatientAddress, setSearchPatientAddress] = useState('')\n  const [addPatientAddress, setAddPatientAddress] = useState('')\n  const [records, setRecords] = useState([])\n  const [addRecord, setAddRecord] = useState(false)\n  const [image,setImage] = useState('Your image');\n  const [name,setName ] = useState('Your name');\n  const [job,setJob ] = useState('Job title');\n  const [about,setAbout ] = useState(\"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\");\n\n  const searchPatient = async () => {\n    try {\n      if (!/^(0x)?[0-9a-f]{40}$/i.test(searchPatientAddress)) {\n        setAlert('Please enter a valid wallet address', 'error')\n        return\n      }\n      const patientExists = await contract.methods.getPatientExists(searchPatientAddress).call({ from: accounts[0] })\n      if (patientExists) {\n        const records = await contract.methods.getRecords(searchPatientAddress).call({ from: accounts[0] })\n        console.log('records :>> ', records)\n        setRecords(records)\n        setPatientExist(true)\n      } else {\n        setAlert('Patient does not exist or address does not match', 'error')\n      }\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  const registerPatient = async () => {\n    try {\n      await contract.methods.addPatient(addPatientAddress).send({ from: accounts[0] })\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  const addRecordCallback = useCallback(\n    async (buffer, fileName, patientAddress) => {\n      if (!patientAddress) {\n        setAlert('Please search for a patient first', 'error')\n        return\n      }\n      try {\n        const res = await ipfs.add(buffer)\n        const ipfsHash = res[0].hash\n        if (ipfsHash) {\n          await contract.methods.addRecord(ipfsHash, fileName, patientAddress).send({ from: accounts[0] })\n          setAlert('New record uploaded', 'success')\n          setAddRecord(false)\n\n          // refresh records\n          const records = await contract.methods.getRecords(patientAddress).call({ from: accounts[0] })\n          setRecords(records)\n        }\n      } catch (err) {\n        setAlert('Record upload failed', 'error')\n        console.error(err)\n      }\n    },\n    [addPatientAddress, accounts, contract]\n  )\n\n  if (loading) {\n    return (\n      <Backdrop sx={{ color: '#fff', zIndex: theme => theme.zIndex.drawer + 1 }} open={loading}>\n        <CircularProgress color='inherit' />\n      </Backdrop>\n    )\n  } else {\n    return (\n      <Box display='flex' justifyContent='center' width='100vw'>\n        <Box width='60%' my={5}>\n          {!accounts ? (\n            <Box display='flex' justifyContent='center'>\n              <Typography variant='h6'>Open your MetaMask wallet to get connected, then refresh this page</Typography>\n            </Box>\n          ) : (\n            <>\n              {role === 'unknown' && (\n                <Box display='flex' justifyContent='center'>\n                  <Typography variant='h5'>You're not registered, please go to home page</Typography>\n                </Box>\n              )}\n              {role === 'patient' && (\n                <Box display='flex' justifyContent='center'>\n                  <Typography variant='h5'>Only doctor can access this page</Typography>\n                </Box>\n              )}\n              {role === 'doctor' && (\n                <>\n                  <Modal open={addRecord} onClose={() => setAddRecord(false)}>\n                    <AddRecordModal\n                      handleClose={() => setAddRecord(false)}\n                      handleUpload={addRecordCallback}\n                      patientAddress={searchPatientAddress}\n                    />\n                  </Modal>\n\n                  <Typography variant='h4'>Patient Records</Typography>\n                  <Box display='flex' alignItems='center' my={1}>\n                    <FormControl fullWidth>\n                      <TextField\n                        variant='outlined'\n                        placeholder='Search patient by wallet address'\n                        value={searchPatientAddress}\n                        onChange={e => setSearchPatientAddress(e.target.value)}\n                        InputProps={{ style: { fontSize: '15px' } }}\n                        InputLabelProps={{ style: { fontSize: '15px' } }}\n                        size='small'\n                      />\n                    </FormControl>\n                    <Box mx={2}>\n                      <CustomButton text={'Search'} handleClick={() => searchPatient()}>\n                        <SearchRoundedIcon style={{ color: 'white' }} />\n                      </CustomButton>\n                    </Box>\n                    <CustomButton text={'New Record'} handleClick={() => setAddRecord(true)} disabled={!patientExist}>\n                      <CloudUploadRoundedIcon style={{ color: 'white' }} />\n                    </CustomButton>\n                  </Box>\n\n                  {patientExist && records.length === 0 && (\n                    <Box display='flex' alignItems='center' justifyContent='center' my={5}>\n                      <Typography variant='h5'>No records found</Typography>\n                    </Box>\n                  )}\n\n                  {patientExist && records.length > 0 && (\n                    <Box display='flex' flexDirection='column' mt={3} mb={-2}>\n                      {records.map((record, index) => (\n                        <Box mb={2}>\n                          <Record key={index} record={record} />\n                        </Box>\n                      ))}\n                    </Box>\n                  )}\n\n                  <Box mt={6} mb={4}>\n                    <Divider />\n                  </Box>\n\n                  <Typography variant='h4'>Register Patient</Typography>\n                  <Box display='flex' alignItems='center' my={1}>\n                    <FormControl fullWidth>\n                      <TextField\n                        variant='outlined'\n                        placeholder=' patient by wallet address'\n                        value={addPatientAddress}\n                        onChange={e => setAddPatientAddress(e.target.value)}\n                        InputProps={{ style: { fontSize: '15px' } }}\n                        InputLabelProps={{ style: { fontSize: '15px' } }}\n                        size='small'\n                      />\n                    </FormControl>\n                    <Box mx={2}>\n                      <CustomButton text={'Register'} handleClick={() => registerPatient()}>\n                        <PersonAddAlt1RoundedIcon style={{ color: 'white' }} />\n                      </CustomButton>\n                    </Box>\n                  </Box>\n                  <Card image={'https://www.eleconomista.com.mx/__export/1650910628068/sites/eleconomista/img/2022/04/25/donald_trump_foto_reuters.png_423682103.png'} name={'Donald Trump'} job={'President'} about={about}/>\n                </>\n              )}\n            </>\n          )}\n        </Box>\n      </Box>\n    )\n  }\n}\n\nexport default Doctor\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}